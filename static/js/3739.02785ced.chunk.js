"use strict";(self.webpackChunkgenshin_gui=self.webpackChunkgenshin_gui||[]).push([[3739],{93739:function(n,e,r){r.d(e,{x:function(){return g}});var t=r(74165),a=r(15861),i=r(93324),c=r(95878),s=r(75936),u=r(79188),o=r(47017),d=r(47313),l=r(36687),f=r(93298),h=r(44030),m=r(2304),x=r(48648),b=r(89582),p=r(46417);function v(n){return(0,p.jsx)(m.Z,{children:n.rotations.map((function(e){var r=e.id===n.selectedId;return(0,p.jsx)(m.Z.Item,{action:!0,active:r,onClick:function(){return n.onChange(e)},children:(0,p.jsxs)(x.Z,{direction:"horizontal",children:[(0,p.jsx)("div",{className:"me-auto",children:e.name}),e.custom?(0,p.jsx)(b.Z,{bg:"warning",className:"text-black",children:(0,u.KF)("CUSTOM")}):null]})},e.name)}))})}function g(n){var e=n.project,r=n.onChange,m=n.readonly,x=(0,d.useState)(void 0),b=(0,i.Z)(x,2),g=b[0],k=b[1],Z=(0,d.useState)(),j=(0,i.Z)(Z,2),N=j[0],I=j[1];function w(){return(w=(0,a.Z)((0,t.Z)().mark((function n(){var a,i;return(0,t.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(a=e.rotationId,g&&!m){n.next=3;break}return n.abrupt("return");case 3:return n.next=5,(0,s.a)({closeButton:!1,title:(0,u.KF)("ROTATION_TARGET"),message:(0,p.jsx)(c.L,{children:function(n){return(0,p.jsx)(v,{rotations:g,selectedId:a,onChange:function(e){a=e.id,n()}})}})});case 5:if(i=g.find((function(n){return n.id===a}))){n.next=8;break}return n.abrupt("return");case 8:if("string"!==typeof i.characterName||i.characterName!==e.character.name){n.next=13;break}e.rotationId=a,I(i.name),n.next=19;break;case 13:if(!Array.isArray(i.characterName)||!i.characterName.includes(e.character.name)){n.next=18;break}e.rotationId=a,I(i.name),n.next=19;break;case 18:return n.abrupt("return");case 19:r();case 20:case"end":return n.stop()}}),n)})))).apply(this,arguments)}return(0,d.useEffect)((function(){(0,o.q$)({character:e.character.name}).then((function(n){k(n);var r=n.find((function(n){return n.id===e.rotationId}));if(r)I(r.name);else{if(!n.length)return;var t=n[0];e.rotationId=t.id,I(t.name)}}))}),[e]),(0,p.jsxs)(l.Z,{className:"w-100 ",size:"lg",children:[(0,p.jsx)(f.Z,{variant:"secondary",className:"text-nowrap w-auto border-info",disabled:!0,children:(0,u.KF)("ROTATION_TARGET")}),(0,p.jsxs)(f.Z,{variant:"secondary",disabled:!g||m,onClick:function(){return w.apply(this,arguments)},className:"w-100 border-info",children:[g?null:(0,p.jsx)(h.Z,{animation:"border"}),N]})]})}},95878:function(n,e,r){r.d(e,{L:function(){return c}});var t=r(93324),a=r(47313),i=r(46417);function c(n){var e,r=n.children,c=(0,a.useReducer)((function(n){return(n+1)%7}),0),s=(0,t.Z)(c,2)[1];return(0,i.jsx)(i.Fragment,{children:null!==(e=r(s))&&void 0!==e?e:null})}}}]);