"use strict";(self.webpackChunkgenshin_gui=self.webpackChunkgenshin_gui||[]).push([[5278],{53933:function(e,n,t){t.d(n,{M:function(){return s}});var r=t(41251),c=t(36687),i=t(45624),a=t(46417);function s(e){var n=e.entity,t=e.onChange,s=e.max,o=void 0===s?5:s;if(1===o)return null;var u=Array.from(Array(o).keys()).map((function(e){return e+1}));return(0,a.jsx)(r.Z,{as:c.Z,onSelect:function(e){if(e){var r=parseInt(e);u.includes(r)&&(n.rank=r,t())}},title:l(n.rank),children:u.map((function(e,t){return(0,a.jsx)(i.Z.Item,{eventKey:e,active:n.rank===e,children:l(e)},t)}))})}function l(e){return"R".concat(e)}},85278:function(e,n,t){t.d(n,{h:function(){return _}});var r=t(1413),c=t(45987),i=t(45043),a=t(65832),s=t(48648),l=t(2532),o=t(31136),u=t(95668),f=t(36687),d=t(70441),h=t(53933),m=t(75936),x=t(79188),g=t(93298),j=t(32773),v=t(93324),p=t(64919),y=t(47313),Z=t(19112),C=t(29400),k=t(18734),T=t(46417);function b(e){var n,t=e.effect,r=e.factory,c=!(t instanceof i.G.Effect)||t.inputsRequested,a=(0,y.useReducer)((function(e){return(e+1)%7}),0),s=(0,v.Z)(a,2)[1];var o=null!==(n=r.inputs)&&void 0!==n?n:[];function u(e){var n,r=t.inputs.find((function(n){return n.name===e.name}));return r?r.value:null!==(n=e.default)&&void 0!==n?n:0}function f(e,n){i.G.Effect.setInput(t,e.name,n),s()}return(0,T.jsxs)("div",{children:[r.auraRequired?(0,T.jsx)("div",{className:"d-flex justify-content-center",children:(0,T.jsxs)(Z.Z,{onChange:function(e){t.aura=e,s()},type:"checkbox",value:t.aura,children:[(0,T.jsx)(g.Z,{disabled:!0,children:(0,x.KF)("EFFECT_AURA")}),i.G.Values.ListElementalAura.map((function(e){return(0,T.jsxs)(C.Z,{id:"effect-aura-".concat(t.name,"-").concat(e),variant:t.aura.includes(e)?"success":void 0,value:e,children:[(0,T.jsx)(k.Z,{element:e}),i.G.Describe.getTitle("Aura."+e)]},e)}))]})}):null,c?o.map((function(e,n){return(0,T.jsx)("div",{className:"m-1",children:"BOOLEAN"!==e.type?(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(l.Z.Label,{htmlFor:"".concat(t.name,"-input-").concat(e.name),children:i.G.Describe.getTitle(e.name)}),(0,T.jsx)(p.K,{percent:"PERCENT"===e.type,id:"".concat(t.name,"-input-").concat(e.name),value:u(e),onChange:function(n){return f(e,n)}})]}):(0,T.jsx)(l.Z.Check,{id:"".concat(t.name,"-input-").concat(e.name),label:i.G.Describe.getTitle(e.name),checked:0!==u(e),onChange:function(n){return f(e,n.target.checked?1:0)}})},n)})):null]})}function F(e){var n=e.effect,t=e.factory,r=e.onChange;if(!t.inputs&&!t.inputsRequested&&!t.auraRequired)return null;if(!t.auraRequired&&n instanceof i.G.Effect&&!n.inputsRequested)return null;return(0,T.jsxs)(g.Z,{variant:"primary",onClick:function(){(0,m.a)({title:(0,x.KF)("EFFECT_INPUTS"),message:(0,T.jsx)(b,{effect:n,factory:t})}).then((function(){r()}))},children:[(0,T.jsx)(j.Z,{className:"me-1",style:{verticalAlign:"-0.125em"}}),(0,x.KF)("STAT_LIST")]})}var A=t(80035),N=t(41251),E=t(45624);function K(e){var n,t=e.effect,r=e.factory,c=e.onChange;return(0,T.jsxs)(f.Z,{children:[(null!==(n=r.maxstacks)&&void 0!==n?n:0)<=5?(0,T.jsx)(R,{effect:t,factory:r,onChange:c}):(0,T.jsx)(D,{effect:t,factory:r,onChange:c}),(0,T.jsx)(S,{effect:t,factory:r,onChange:c})]})}function D(e){var n,t=e.effect,r=e.factory,c=e.onChange,i=null!==(n=r.maxstacks)&&void 0!==n?n:0;if(0===i)return null;var a=Array.from(Array(i+1).keys()).map((function(e){return e}));function s(e){var n=parseInt(e);a.includes(n)&&(t.stacks=n,c())}var u=(0,T.jsxs)(A.Z,{children:[(0,T.jsx)(A.Z.Header,{children:(0,x.KF)("STACKS")}),(0,T.jsx)(A.Z.Body,{children:(0,T.jsx)(l.Z.Control,{type:"number",size:"sm",style:{width:72},value:t.stacks,onChange:function(e){return s(e.target.value)}})})]});return(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(g.Z,{disabled:!0,children:(0,x.KF)("STACKS")}),(0,T.jsx)(o.Z,{rootClose:!0,trigger:"click",overlay:u,children:(0,T.jsx)(g.Z,{children:t.stacks})})]})}function R(e){var n,t=e.effect,r=e.factory,c=e.onChange,i=null!==(n=r.maxstacks)&&void 0!==n?n:0;if(0===i)return null;var a=Array.from(Array(i+1).keys()).map((function(e){return e}));return(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(g.Z,{disabled:!0,children:(0,x.KF)("STACKS")}),(0,T.jsx)(N.Z,{onSelect:function(e){if(e){var n=parseInt(e);a.includes(n)&&(t.stacks=n,c())}},as:f.Z,title:t.stacks,children:a.map((function(e,n){return(0,T.jsx)(E.Z.Item,{eventKey:e,active:t.stacks===e,children:e},n)}))})]})}function S(e){var n,t=e.effect,r=e.factory,c=e.onChange,a=null!==(n=r.conditions)&&void 0!==n?n:[];if(0===a.length)return null;var s=t.condition?i.G.Describe.getTitle(t.condition):"";return(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(g.Z,{disabled:!0,children:(0,x.KF)("EFFECT_CONDITION")}),(0,T.jsx)(N.Z,{onSelect:function(e){if(e){var n=a.find((function(n){return n===e}));n&&(t.condition=n,c())}},title:s,as:f.Z,children:a.map((function(e,n){return(0,T.jsx)(E.Z.Item,{eventKey:e,active:t.condition===e,children:i.G.Describe.getTitle(e)},n)}))})]})}var G=t(25566),I=t.n(G),q=["onChange"];function _(e){var n,t,m,x=e.onChange,g=(0,c.Z)(e,q),j=i.G.Describe.getTitle(g.effect.name),v=i.G.Describe.getDescription(g.effect.name,{rank:g.effect.rank-1});v=v.replace(/\n/g,"\n\n"),g.removeParenthesis&&(j=j.replace(/\(.*\)/,"")),g.replaceTitle&&(j=g.replaceTitle(j));var p=(null!==(n=g.highlight)&&void 0!==n?n:"").replace(/[^a-z0-9 #]/gi,"").replace(/\s+/gi," ").toLowerCase(),y=(0,r.Z)({},g);return delete y.highlight,delete y.effect,delete y.factory,delete y.hideRank,delete y.hideToggle,delete y.removeParenthesis,delete y.replaceTitle,delete y.hideDescription,(0,T.jsxs)(a.Z,(0,r.Z)((0,r.Z)({},y),{},{children:[(0,T.jsx)(a.Z.Header,{as:"h5",children:(0,T.jsxs)(s.Z,{direction:"horizontal",children:[g.hideToggle?null:(0,T.jsx)(l.Z.Check,{checked:g.effect.enabled,onChange:function(e){return x(e.target.checked)},id:"effect-".concat(g.effect.name),type:"switch"}),(0,T.jsx)("div",{className:"me-auto",children:(0,T.jsx)(o.Z,{rootClose:!0,trigger:["click"],placement:"right",overlay:(0,T.jsx)(u.Z,{children:g.effect.name}),children:(0,T.jsx)("h5",{className:"m-0 d-inline",children:(0,T.jsx)(I(),{autoEscape:!0,searchWords:[p],textToHighlight:j})})})}),(0,T.jsxs)(f.Z,{children:[(0,T.jsx)(F,{effect:g.effect,factory:g.factory,onChange:function(){return x(g.effect.enabled)}}),g.hideRank?null:(0,T.jsx)(h.M,{max:null!==(t=null===(m=g.factory)||void 0===m?void 0:m.maxrank)&&void 0!==t?t:1,entity:g.effect,onChange:x})]})]})}),(0,T.jsxs)(a.Z.Body,{style:{textAlign:"justify"},children:[(0,T.jsx)("div",{className:"mb-2 d-flex justify-content-center",children:(0,T.jsx)(K,{effect:g.effect,factory:g.factory,onChange:x})}),g.hideDescription?null:(0,T.jsx)(d.D,{components:{p:function(e){return(0,T.jsx)("p",{className:"m-0",children:e.children})},strong:function(e){return(0,T.jsx)("strong",{className:"text-info",children:e.children})},ul:function(e){return(0,T.jsx)("ul",{className:"m-0",children:e.children})},li:function(e){return(0,T.jsx)("li",{className:"m-0",children:e.children})},ol:function(e){return(0,T.jsx)("ol",{className:"m-0",children:e.children})}},children:v})]})]}))}}}]);