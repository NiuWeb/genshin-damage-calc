"use strict";(self.webpackChunkgenshin_gui=self.webpackChunkgenshin_gui||[]).push([[2222,3736,720,6474],{60720:function(e,n,t){function r(e,n,t){"string"===typeof e&&(e=[e]);var r=t?function(e,n){return e===n}:function(e,n){return e.toLowerCase().includes(n.toLowerCase())},i=e;return n.map((function(e,n){return i.some((function(n){return"string"===typeof e?r(e,n):e.some((function(e){return r(e,n)}))}))?n:-1})).filter((function(e){return-1!==e}))}t.d(n,{D:function(){return r}})},10072:function(e,n,t){t.d(n,{w:function(){return l}});var r=t(1413),i=t(45987),c=t(45043),a=t(79188),s=t(2532),o=t(46417),u=["value","options","onChange","allowAny"];function l(e){var n=e.value,t=e.options,l=e.onChange,f=e.allowAny,h=(0,i.Z)(e,u);function d(e){l(t.find((function(n){return n===e})))}return(0,o.jsxs)(s.Z.Select,(0,r.Z)((0,r.Z)({},h),{},{value:n||-1,onChange:function(e){return d(e.target.value)},children:[f?(0,o.jsx)("option",{value:-1,children:(0,a.KF)("ANY")}):null,t.map((function(e){return(0,o.jsx)("option",{value:e,children:c.G.Describe.getTitle(e)},e)}))]}))}},86828:function(e,n,t){t.d(n,{X:function(){return v}});var r=t(1413),i=t(45987),c=t(45043),a=t(13736),s=t(46474),o=t(79188),u=t(48648),l=t(2532),f=t(85278),h=t(46417),d=["effect","isOwnEffect","onChange"];function g(e){var n=e.effect,t=e.isOwnEffect,c=e.onChange,a=(0,i.Z)(e,d);return(0,h.jsx)(f.h,(0,r.Z)((0,r.Z)({},a),{},{effect:n,factory:n.factory,replaceTitle:t?function(e){return e.replace(/\((.*)\)\s*/g,(function(e,n){var t=n.split(" ").pop();return t&&t.match(/^C\d$/)?"(".concat(t,") "):""}))}:void 0,onChange:function(e){!0===e?n.enable():!1===e&&n.disable(),c()}}))}var m=t(47313),x=["effects","onChange","hideToggle"];function v(e){var n=e.effects,t=e.onChange,f=e.hideToggle,d=(0,i.Z)(e,x),v=(0,s.R)(n,(function(e){return c.G.Describe.getTitle(e.name)+" "+c.G.Describe.getDescription(e.name)})),j=v.search,C=v.setSearch,Z=v.items,p=(0,a.h)(Z,5);return(0,h.jsxs)("div",{children:[n.length<=5?null:(0,h.jsxs)(u.Z,{gap:1,children:[(0,h.jsx)("div",{children:(0,h.jsx)(l.Z.Control,{size:"sm",type:"text",placeholder:(0,o.KF)("EFFECT_SEARCH"),value:j,onChange:function(e){return C(e.target.value)}})}),(0,h.jsx)("div",{className:"d-flex justify-content-center",children:(0,h.jsx)(p.Pagination,{})})]}),p.items.map((function(e,n){return(0,h.jsx)("div",{className:"m-1",children:(0,m.createElement)(g,(0,r.Z)((0,r.Z)({},d),{},{hideToggle:null===f||void 0===f?void 0:f(e),highlight:j,key:e.name,effect:e,onChange:function(){return t(e)}}))},n)})),0===p.items.length?(0,h.jsx)("div",{className:"text-center",children:(0,o.KF)("EFFECT_EMPTY")}):null,n.length<=5?null:(0,h.jsx)("div",{className:"d-flex justify-content-center",children:(0,h.jsx)(p.Pagination,{})})]})}},95878:function(e,n,t){t.d(n,{L:function(){return a}});var r=t(93324),i=t(47313),c=t(46417);function a(e){var n,t=e.children,a=(0,i.useReducer)((function(e){return(e+1)%7}),0),s=(0,r.Z)(a,2)[1];return(0,c.jsx)(c.Fragment,{children:null!==(n=t(s))&&void 0!==n?n:null})}},13736:function(e,n,t){t.d(n,{h:function(){return s}});var r=t(93324),i=t(47313),c=t(38804),a=t(46417);function s(e,n){var t=(0,i.useState)(1),s=(0,r.Z)(t,2),o=s[0],u=s[1],l=(0,i.useMemo)((function(){return Math.ceil(e.length/n)}),[e,n]),f=(0,i.useMemo)((function(){var e=Array.from(Array(l).keys()).map((function(e){return e+1}));if(e.length>5){var n=e.length-o,t=Math.min(n,5),r=Math.max(5-t,Math.floor(2.5)),i=Math.max(0,o-r);return e.slice(i,i+5)}return e}),[l,o]);(0,i.useEffect)((function(){o>l&&u(1)}),[l,o]);var h=function(){var e=o-1;e<=0&&(e=l),u(e)},d=function(){var e=o+1;e>l&&(e=1),u(e)},g=(0,i.useMemo)((function(){return e.slice((o-1)*n,o*n)}),[o,e,n]);return{page:o,items:g,Pagination:function(){return(0,a.jsxs)(c.Z,{className:"m-0",children:[(0,a.jsx)(c.Z.Prev,{onClick:h}),f.map((function(e,n){return-1!==e?(0,a.jsx)(c.Z.Item,{active:e===o,onClick:function(){return u(e)},children:e},n):(0,a.jsx)(c.Z.Ellipsis,{},n)})),(0,a.jsx)(c.Z.Next,{onClick:d})]})},gotoNext:d,gotoPrev:h,findItem:function(t){var r=e.indexOf(t)+1;return r<0?-1:Math.ceil(r/n)},setPage:function(e){e<1&&(e=1),e>l&&(e=l),u(e)}}}},46474:function(e,n,t){t.d(n,{R:function(){return a}});var r=t(93324),i=t(60720),c=t(47313);function a(e,n,t){var a=(0,c.useState)(t||""),s=(0,r.Z)(a,2),o=s[0],u=s[1],l=(0,c.useMemo)((function(){return o?(0,i.D)(o,e.map((function(e){return n(e)}))).map((function(n){return e[n]})):e}),[o,e,n]);return(0,c.useEffect)((function(){return u(t||"")}),[t]),{search:o,setSearch:u,items:l}}},42222:function(e,n,t){t.r(n),t.d(n,{default:function(){return k},position:function(){return P},title:function(){return K}});var r=t(96103),i=t(93433),c=t(79188),a=t(65832),s=t(48648),o=t(93298),u=t(64919),l=t(45043),f=t(59461),h=t(10072),d=t(46417);function g(e){var n=e.character,t=e.modifier,r=e.onChange,i=e.onDelete;return(0,d.jsx)(a.Z,{border:"secondary",children:(0,d.jsx)(a.Z.Body,{children:(0,d.jsxs)(s.Z,{direction:"horizontal",gap:1,children:[(0,d.jsx)(h.w,{value:t.prop,options:m,onChange:function(e){if(e){var n=l.G.Values.isFlatStat(t.prop),i=l.G.Values.isFlatStat(e),c=t.value;t.prop=e,t.value=n!==i?i?100*c:c/100:c,r()}}}),(0,d.jsx)(u.K,{value:t.value,percent:!l.G.Values.isFlatStat(t.prop),onChange:function(e){t.value=e,r()}}),(0,d.jsx)(o.Z,{variant:"danger",onClick:function(){n.customModifiers.removeModifier(t),i()},children:(0,d.jsx)(f.Z,{})})]})})})}var m=l.G.Values.ListCharacterStat.filter((function(e){return!e.match(/ATK$/i)&&!e.includes("Level")&&!e.includes("Ascended")&&"HP"!==e&&"DEF"!==e})),x=t(74308),v=t(13736),j=t(95878);function C(e){var n=e.character,t=e.onChange,r=n.customModifiers.getModifiers(),u=(0,v.h)(r,6);return(0,d.jsxs)(a.Z,{children:[(0,d.jsx)(a.Z.Header,{className:"bg-info ",children:(0,d.jsx)("h5",{className:"m-0",children:(0,c.KF)("EFFECT_CUSTOM")})}),(0,d.jsx)(a.Z.Body,{children:(0,d.jsxs)(s.Z,{gap:1,children:[(0,d.jsxs)(o.Z,{onClick:function(){n.customModifiers.createModifier("ATKpercent",0),t()},children:[(0,d.jsx)(x.Z,{className:"me-1",style:{verticalAlign:"-0.125em"}}),(0,c.KF)("ACTION_ADD")]}),(0,i.Z)(u.items).reverse().map((function(e,r){return(0,d.jsx)(j.L,{children:function(r){return(0,d.jsx)(g,{character:n,modifier:e,onChange:r,onDelete:t})}},r)})),r.length<=6?null:(0,d.jsx)("div",{className:"d-flex justify-content-center",children:(0,d.jsx)(u.Pagination,{})})]})})]})}var Z=t(1413),p=t(45987),E=t(86828),F=["character","onChange"];function T(e){var n=e.character,t=e.onChange,r=(0,p.Z)(e,F),s=[].concat((0,i.Z)(n.effects.get().filter((function(e){return e.enabled}))),(0,i.Z)(n.effects.getExternal().filter((function(e){return e.enabled})))).filter((function(e,n,t){return t.indexOf(e)===n})),o=n.weapon.name,u=n.bonus.effects.map((function(e){return e.name}));return(0,d.jsxs)(a.Z,{children:[(0,d.jsx)(a.Z.Header,{className:"bg-info",as:"h5",children:(0,c.KF)("EFFECT_ACTIVE")}),(0,d.jsx)(a.Z.Body,{children:(0,d.jsx)(E.X,(0,Z.Z)((0,Z.Z)({},r),{},{hideToggle:function(e){return e.name.includes(o)||u.includes(e.name)},effects:s,onChange:t}))})]})}var y=t(93324),A=t(47313),M=t(53768);function N(e){var n=e.character,t=e.onChange,r=(0,A.useMemo)((function(){return{EFFECT_PASSIVE:n.effects.getPassives(),EFFECT_ES:n.effects.getElementalSkills(),EFFECT_EB:n.effects.getElementalBursts(),EFFECT_CONST:n.effects.getConstellations(),EFFECT_EXTERNAL:n.effects.getExternal()}}),[n]),i=n.weapon.name,s=n.bonus.effects.map((function(e){return e.name}));return(0,d.jsxs)(a.Z,{children:[(0,d.jsx)(a.Z.Header,{className:"bg-info",as:"h5",children:(0,c.KF)("EFFECT_AVAILABLE")}),(0,d.jsx)(a.Z.Body,{children:(0,d.jsx)(M.Z,{defaultActiveKey:"EFFECT_PASSIVE",children:Object.entries(r).map((function(e){var n=(0,y.Z)(e,2),r=n[0],a=n[1];return(0,d.jsxs)(M.Z.Item,{eventKey:r,children:[(0,d.jsx)(M.Z.Header,{children:(0,c.KF)(r)}),(0,d.jsx)(M.Z.Body,{children:(0,d.jsx)(E.X,{hideToggle:function(e){return e.name.includes(i)||s.includes(e.name)},isOwnEffect:"EFFECT_EXTERNAL"!==r,effects:a,onChange:t})})]},r)}))})})]})}var S=t(42072),b=t(22102),_=t(63849),w=t(31616),K="effects",P=2;function k(){var e=(0,r.tl)(),n=(0,S.P)().update;return(0,d.jsx)(b.Z,{children:(0,d.jsxs)(_.Z,{children:[(0,d.jsx)(w.Z,{lg:6,sm:12,children:(0,d.jsx)(N,{character:e,onChange:n})}),(0,d.jsx)(w.Z,{lg:6,sm:12,children:(0,d.jsxs)(s.Z,{gap:1,children:[(0,d.jsx)(T,{border:"secondary",character:e,onChange:n}),(0,d.jsx)(C,{character:e,onChange:n})]})})]})})}}}]);