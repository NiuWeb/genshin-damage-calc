"use strict";(self.webpackChunkgenshin_gui=self.webpackChunkgenshin_gui||[]).push([[2079,4860,6103,3736,5936,720,6474,7829,3496],{96103:function(e,n,t){t.d(n,{Ce:function(){return h},Uw:function(){return v},dn:function(){return f},mW:function(){return l},tl:function(){return d},vo:function(){return u}});var r=t(45043),i=t(79188),a=t(94860),s=[],c=new a.z0,o=s[0];function l(){return s.map((function(e){return e}))}var u=function(){return o},d=function(){return u().character};function h(e){if(!s.includes(e))throw new Error("Trying to set a project that is not loaded in the central.");o=e}function f(e,n){var t,a;if(e=e?c.insertName(e):c.insertName((0,i.KF)("PROJ_Untitled")),n){var o=(a=n instanceof r.G.Character?n:r.G.CharacterLoader.importCharacter(n)).getRotationFactories();if(null===o||void 0===o||!o.length)throw new Error("THERE ARE NO ROTATIONS LOADED FOR THE CHARACTER ".concat(n.name));t=o[0].id}else t=(a=new r.G.Character(r.G.Database.getCharacterFactories()[0])).getRotationFactories()[0].id;var l={title:e,character:a,rotationId:t};return s.splice(0,0,l),h(l),l}function v(e){if(!e)return!1;var n=s.indexOf(e);return!(n<0)&&(s.splice(n,1),c.removeName(e.title),0===s.length?f():h(0===n?s[0]:s[n-1]),!0)}f(void 0,r.G.Character.create("Albedo"))},94860:function(e,n,t){t.d(n,{z0:function(){return s}});var r,i=t(15671),a=t(43144),s=function(){function e(n){(0,i.Z)(this,e),this.names=void 0,n||(n=[]),this.names=n.map((function(n){return e.cleanName(n)}))}return(0,a.Z)(e,[{key:"clear",value:function(){this.names.length=0}},{key:"removeName",value:function(e){this.names.splice(this.names.indexOf(e),1)}},{key:"insertName",value:function(n){n=e.cleanName(n);for(var t=0,r=function(){return n+(0===t?"":" ("+t+")")};this.names.includes(r());)t++;return this.names.push(r()),r()}},{key:"validateName",value:function(n){return(n=n.replace(/^\s*([^\s]?.*[^\s])\s*$/i,"$1")).match(/^\s*$/i)?"NAME_EMPTY":n.length>c?"NAME_LARGE":this.names.includes(n)?"NAME_EXISTING":e.cleanName(n)!==n?"NAME_INVALID":"NAME_OK"}}],[{key:"cleanName",value:function(e){return e=(e=(e=(e=e.replace(/^\s*([^\s]?.*[^\s])\s*$/i,"$1")).replace(/(\n|\r|\t)+/g,"")).replace(/([^a-z0-9.,\xe1\xe9\xed\xf3\xfa\xc1\xc9\xcd\xd3\xda\xf1\xd1:_ \-+?!\xbf\xa1#$%&/()])/gi,"")).slice(0,c+1)}}]),e}();!function(e){e[e.NAME_EMPTY=0]="NAME_EMPTY",e[e.NAME_EXISTING=1]="NAME_EXISTING",e[e.NAME_LARGE=2]="NAME_LARGE",e[e.NAME_INVALID=3]="NAME_INVALID",e[e.NAME_OK=4]="NAME_OK"}(r||(r={}));var c=80},60720:function(e,n,t){function r(e,n,t){"string"===typeof e&&(e=[e]);var r=t?function(e,n){return e===n}:function(e,n){return e.toLowerCase().includes(n.toLowerCase())},i=e;return n.map((function(e,n){return i.some((function(n){return"string"===typeof e?r(e,n):e.some((function(e){return r(e,n)}))}))?n:-1})).filter((function(e){return-1!==e}))}t.d(n,{D:function(){return r}})},18734:function(e,n,t){t.d(n,{Z:function(){return v}});var r=t(1413),i=t(45987);t(47313);var a=t.p+"static/media/pyro.babb0a5d6f255ce987686e321062adf8.svg";var s=t.p+"static/media/hydro.dbcf75ab6927f7b73d17f4fb71f621ac.svg";var c=t.p+"static/media/cryo.3bdb562015df89a20e96599718419039.svg";var o=t.p+"static/media/electro.178efeba7aa67dca8d20a69fdcaebfaa.svg";var l=t.p+"static/media/geo.61c55e600f72d666196bdb5307a35bf2.svg";var u=t.p+"static/media/anemo.8fbd12d60899bee429fa3c3fbd9e131b.svg";var d=t.p+"static/media/dendro.97c848cc4e28377348d86edf1d79fb2d.svg",h=t(46417),f=["element","width","height"];function v(e){var n=e.element,t=e.width,v=void 0===t?24:t,x=(e.height,(0,i.Z)(e,f));switch(n){case"AnemoDMG":return(0,h.jsx)("img",(0,r.Z)((0,r.Z)({width:v},x),{},{src:u,alt:"anemo"}));case"GeoDMG":return(0,h.jsx)("img",(0,r.Z)((0,r.Z)({width:v},x),{},{src:l,alt:"geo"}));case"ElectroDMG":return(0,h.jsx)("img",(0,r.Z)((0,r.Z)({width:v},x),{},{src:o,alt:"electro"}));case"CryoDMG":case"Frozen":return(0,h.jsx)("img",(0,r.Z)((0,r.Z)({width:v},x),{},{src:c,alt:"cryo"}));case"HydroDMG":return(0,h.jsx)("img",(0,r.Z)((0,r.Z)({width:v},x),{},{src:s,alt:"hydro"}));case"PyroDMG":return(0,h.jsx)("img",(0,r.Z)((0,r.Z)({width:v},x),{},{src:a,alt:"pyro"}));case"DendroDMG":return(0,h.jsx)("img",(0,r.Z)((0,r.Z)({width:v},x),{},{src:d,alt:"pyro"}));default:return null}}},75936:function(e,n,t){t.d(n,{a:function(){return d}});var r=t(93324),i=t(79188),a=t(47313),s=t(98410),c=t(93298),o=t(76487),l=t(46417);function u(e){var n,t,o,u,d,h,f,v,x,m=(0,a.useState)(!0),p=(0,r.Z)(m,2),j=p[0],g=p[1];function Z(){g(!1),e.proceed()}var E=null===(n=null===(t=e.props)||void 0===t?void 0:t.closeButton)||void 0===n||n,N=null===(o=null===(u=e.props)||void 0===u?void 0:u.footerButton)||void 0===o||o,A=null===(d=e.props)||void 0===d?void 0:d.message,C=A?"function"===typeof A?A(Z):A:"";return(0,l.jsxs)(s.Z,{size:null!==(h=null===(f=e.props)||void 0===f?void 0:f.size)&&void 0!==h?h:"lg",show:j,onHide:Z,children:[(0,l.jsx)(s.Z.Header,{closeButton:E,children:(0,l.jsx)(s.Z.Title,{id:"contained-modal-title-vcenter",children:null!==(v=null===(x=e.props)||void 0===x?void 0:x.title)&&void 0!==v?v:(0,i.KF)("DIALOG_ALERT")})}),(0,l.jsx)(s.Z.Body,{children:C}),N?(0,l.jsx)(s.Z.Footer,{children:(0,l.jsx)(c.Z,{onClick:Z,children:(0,i.KF)("DIALOG_ACCEPT")})}):null]})}var d=function(e){return(0,o.LA)((0,o.mP)(u))({props:e})}},17829:function(e,n,t){t.d(n,{Q:function(){return d}});var r=t(93324),i=t(79188),a=t(47313),s=t(98410),c=t(93298),o=t(76487),l=t(46417);function u(e){var n,t,o,u,d=(0,a.useState)(!0),h=(0,r.Z)(d,2),f=h[0],v=h[1],x=e.props;function m(){var n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];v(!1),e.proceed(n)}var p=null===(n=null===x||void 0===x?void 0:x.closeButton)||void 0===n||n,j=null===(t=e.props)||void 0===t?void 0:t.message,g=j?"function"===typeof j?j(m):j:"";return(0,l.jsxs)(s.Z,{size:null!==(o=null===x||void 0===x?void 0:x.size)&&void 0!==o?o:"lg",show:f,onHide:m,children:[(0,l.jsx)(s.Z.Header,{closeButton:p,children:(0,l.jsx)(s.Z.Title,{id:"contained-modal-title-vcenter",children:null!==(u=null===x||void 0===x?void 0:x.title)&&void 0!==u?u:(0,i.KF)("DIALOG_CONFIRM")})}),(0,l.jsx)(s.Z.Body,{children:g}),(0,l.jsxs)(s.Z.Footer,{children:[(0,l.jsx)(c.Z,{variant:"success",onClick:function(){return m(!0)},children:(null===x||void 0===x?void 0:x.accept)||(0,i.KF)("DIALOG_ACCEPT")}),(0,l.jsx)(c.Z,{variant:"danger",onClick:function(){return m(!1)},children:(null===x||void 0===x?void 0:x.cancel)||(0,i.KF)("DIALOG_CANCEL")})]})]})}var d=function(e){return(0,o.LA)((0,o.mP)(u))({props:e})}},56122:function(e,n,t){t.d(n,{m:function(){return f}});var r=t(93324),i=t(79188),a=t(47313),s=t(95491),c=t(2532),o=t(98410),l=t(93298),u=t(76487),d=t(46417);function h(e){var n,t,u,h,f,v,x,m=(0,a.useState)(!0),p=(0,r.Z)(m,2),j=p[0],g=p[1],Z=(0,a.useState)(null!==(n=null===(t=e.props)||void 0===t?void 0:t.defaultValue)&&void 0!==n?n:""),E=(0,r.Z)(Z,2),N=E[0],A=E[1],C=(0,a.useState)(void 0),O=(0,r.Z)(C,2),y=O[0],T=O[1];function R(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;g(!1),e.proceed(n)}(0,a.useEffect)((function(){var n,t=null===(n=e.props)||void 0===n?void 0:n.validate;if(t){var r=t(N);T(!0===r?void 0:r)}}),[N,null===(u=e.props)||void 0===u?void 0:u.validate]);var _=null===(h=e.props)||void 0===h?void 0:h.label,P=null===(f=e.props)||void 0===f?void 0:f.message,F=P?"function"===typeof P?P(R):P:"",b=_?(0,d.jsx)(s.Z,{label:_,className:"mb-3",children:(0,d.jsx)(c.Z.Control,{type:"text",placeholder:_,value:N,onChange:function(e){return A(e.target.value)},className:y?"is-invalid":""})}):(0,d.jsx)(c.Z.Control,{type:"text",value:N,onChange:function(e){return A(e.target.value)},className:y?"is-invalid":""});return(0,d.jsxs)(o.Z,{size:"lg",show:j,onHide:R,children:[(0,d.jsx)(o.Z.Header,{closeButton:!0,children:(0,d.jsx)(o.Z.Title,{id:"contained-modal-title-vcenter",children:null!==(v=null===(x=e.props)||void 0===x?void 0:x.title)&&void 0!==v?v:(0,i.KF)("DIALOG_PROMPT")})}),(0,d.jsxs)(o.Z.Body,{children:[F,b,(0,d.jsx)("div",{className:"text-center",children:(0,d.jsx)(c.Z.Text,{className:"text-danger",children:null!==y&&void 0!==y?y:""})})]}),(0,d.jsx)(o.Z.Footer,{children:(0,d.jsx)(l.Z,{disabled:!!y,onClick:function(){return R(N)},children:(0,i.KF)("DIALOG_ACCEPT")})})]})}var f=function(e){return(0,u.LA)((0,u.mP)(h))({props:e})}},13736:function(e,n,t){t.d(n,{h:function(){return c}});var r=t(93324),i=t(47313),a=t(38804),s=t(46417);function c(e,n){var t=(0,i.useState)(1),c=(0,r.Z)(t,2),o=c[0],l=c[1],u=(0,i.useMemo)((function(){return Math.ceil(e.length/n)}),[e,n]),d=(0,i.useMemo)((function(){var e=Array.from(Array(u).keys()).map((function(e){return e+1}));if(e.length>5){var n=e.length-o,t=Math.min(n,5),r=Math.max(5-t,Math.floor(2.5)),i=Math.max(0,o-r);return e.slice(i,i+5)}return e}),[u,o]);(0,i.useEffect)((function(){o>u&&l(1)}),[u,o]);var h=function(){var e=o-1;e<=0&&(e=u),l(e)},f=function(){var e=o+1;e>u&&(e=1),l(e)},v=(0,i.useMemo)((function(){return e.slice((o-1)*n,o*n)}),[o,e,n]);return{page:o,items:v,Pagination:function(){return(0,s.jsxs)(a.Z,{className:"m-0",children:[(0,s.jsx)(a.Z.Prev,{onClick:h}),d.map((function(e,n){return-1!==e?(0,s.jsx)(a.Z.Item,{active:e===o,onClick:function(){return l(e)},children:e},n):(0,s.jsx)(a.Z.Ellipsis,{},n)})),(0,s.jsx)(a.Z.Next,{onClick:f})]})},gotoNext:f,gotoPrev:h,findItem:function(t){var r=e.indexOf(t)+1;return r<0?-1:Math.ceil(r/n)},setPage:function(e){e<1&&(e=1),e>u&&(e=u),l(e)}}}},46474:function(e,n,t){t.d(n,{R:function(){return s}});var r=t(93324),i=t(60720),a=t(47313);function s(e,n,t){var s=(0,a.useState)(t||""),c=(0,r.Z)(s,2),o=c[0],l=c[1],u=(0,a.useMemo)((function(){return o?(0,i.D)(o,e.map((function(e){return n(e)}))).map((function(n){return e[n]})):e}),[o,e,n]);return(0,a.useEffect)((function(){return l(t||"")}),[t]),{search:o,setSearch:l,items:u}}},72079:function(e,n,t){t.r(n),t.d(n,{default:function(){return ce},position:function(){return se},title:function(){return ae}});var r=t(93324),i=t(96103),a=t(94860),s=t(13736),c=t(42072),o=t(79188),l=t(1413),u=t(74165),d=t(15861),h=t(45043),f=t(29447);function v(e){return x.apply(this,arguments)}function x(){return x=(0,d.Z)((0,u.Z)().mark((function e(n){var t;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=performance.now(),e.abrupt("return",new Promise(function(){var e=(0,d.Z)((0,u.Z)().mark((function e(r,i){var a;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=(0,f.HB)().addMessageListener((function(e){"storage-projects"===e.type&&e.id===t&&(e.error?i(e.error):((0,f.HB)().removeMessageListener(a),r(e.result)))})),(0,f.HB)().postMessage({type:"storage-projects",id:t,data:n});case 2:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}()));case 2:case"end":return e.stop()}}),e)}))),x.apply(this,arguments)}function m(e){return p.apply(this,arguments)}function p(){return(p=(0,d.Z)((0,u.Z)().mark((function e(n){return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",v({get:(0,l.Z)({},n)}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function j(e){return g.apply(this,arguments)}function g(){return(g=(0,d.Z)((0,u.Z)().mark((function e(n){return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",v({get:(0,l.Z)((0,l.Z)({},n),{},{basics:!0})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Z(){return(Z=(0,d.Z)((0,u.Z)().mark((function e(n){var t;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m({name:n,exact:!0});case 2:if((t=e.sent)&&0!==t.length){e.next=5;break}return e.abrupt("return",void 0);case 5:return e.abrupt("return",t[0]);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function E(e,n){return N.apply(this,arguments)}function N(){return(N=(0,d.Z)((0,u.Z)().mark((function e(n,t){var r,i;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=(0,l.Z)({},t)).character instanceof h.G.Character&&(r.character=h.G.CharacterLoader.exportCharacter(r.character)),e.next=4,v({set:{name:n,project:r}});case 4:return i=e.sent,e.abrupt("return",!!i);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function A(){return(A=(0,d.Z)((0,u.Z)().mark((function e(n,t){var r;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v({rename:{name:n,newName:t}});case 2:return r=e.sent,e.abrupt("return",!!r);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(){return(C=(0,d.Z)((0,u.Z)().mark((function e(n){var t;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v({delete:{name:n}});case 2:return t=e.sent,e.abrupt("return",!!t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var O=t(47313),y=t(65832),T=t(48648),R=t(465),_=t(98410),P=t(93298),F=t(74308),b=t(18734),w=t(46474),M=t(2532),K=t(31136),L=t(95668),D=t(97890),I=t(46417);function G(){var e=(0,O.useMemo)((function(){return h.G.Database.getCharacterFactories().sort((function(e,n){var t=h.G.Describe.getTitle(e),r=h.G.Describe.getTitle(n);return t.localeCompare(r)}))}),[]),n=(0,D.s0)(),t=(0,w.R)(e,(function(e){return h.G.Describe.getTitle(e)+" "+h.G.Describe.getTitle("Element."+e.element)+" "+h.G.Describe.getTitle(e.weaponType)})),r=(0,s.h)(t.items,10);return(0,I.jsxs)(T.Z,{gap:1,children:[(0,I.jsx)(M.Z.Control,{type:"text",placeholder:(0,o.KF)("PROJ_NEW_PLACEHOLDER"),value:t.search,onChange:function(e){return t.setSearch(e.target.value)}}),(0,I.jsx)("div",{className:"d-flex justify-content-center",children:(0,I.jsx)(r.Pagination,{})}),(0,I.jsxs)(R.Z,{striped:!0,bordered:!0,hover:!0,responsive:!0,children:[(0,I.jsx)("thead",{children:(0,I.jsxs)("tr",{children:[(0,I.jsx)("th",{children:(0,o.KF)("CHARACTER")}),(0,I.jsx)("th",{children:(0,o.KF)("ELEMENT")}),(0,I.jsx)("th",{children:(0,o.KF)("WEAPON")}),(0,I.jsx)("th",{children:(0,o.KF)("ACTION_ACTIONS")})]})}),(0,I.jsx)("tbody",{children:r.items.map((function(e,t){return(0,I.jsxs)("tr",{children:[(0,I.jsx)("td",{className:"align-middle",style:{width:"40%"},children:h.G.Describe.getTitle(e)}),(0,I.jsxs)("td",{className:"align-middle",style:{width:"25%"},children:[(0,I.jsx)(b.Z,{element:e.element}),h.G.Describe.getTitle("Element."+e.element)]}),(0,I.jsx)("td",{className:"align-middle",style:{width:"25%"},children:h.G.Describe.getTitle(e.weaponType)}),(0,I.jsx)("td",{className:"align-middle text-center",children:(0,I.jsx)(K.Z,{trigger:["hover","focus"],overlay:(0,I.jsx)(L.Z,{id:"tooltip-top",children:(0,o.KF)("PROJ_NEWPROJECT")}),children:(0,I.jsx)(P.Z,{onClick:function(){return function(e){var t=new h.G.Character(e);(0,i.dn)(void 0,t),n("/editor")}(e)},children:(0,I.jsx)(F.Z,{})})})})]},t)}))})]})]})}function k(){var e=(0,O.useState)(!1),n=(0,r.Z)(e,2),t=n[0],i=n[1];return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsxs)(_.Z,{size:"lg",show:t,onHide:function(){return i(!1)},children:[(0,I.jsx)(_.Z.Header,{closeButton:!0,children:(0,I.jsx)(_.Z.Title,{id:"contained-modal-title-vcenter",children:(0,o.KF)("PROJ_NEWPROJECT")})}),(0,I.jsx)(_.Z.Body,{children:(0,I.jsx)(G,{})})]}),(0,I.jsxs)(P.Z,{onClick:function(){i(!0)},children:[(0,I.jsx)(F.Z,{className:"me-1",style:{verticalAlign:"-0.125em"}}),(0,o.KF)("PROJ_NEWPROJECT")]})]})}var S=t(25566),J=t.n(S),H=t(81018),B=t(26934),W=t(12014),z=t(17829),V=t(70441),X=t(56122);function $(e){var n=e.names,t=e.project,r=e.search,a=(0,c.P)().update,s=null!==r&&void 0!==r?r:"",l=t===(0,i.vo)(),u=(0,D.s0)();return(0,I.jsxs)("tr",{className:l?"bg-secondary":void 0,onClick:function(){(0,i.Ce)(t),a()},children:[(0,I.jsx)("td",{className:"w-50 align-middle",children:(0,I.jsx)(J(),{autoEscape:!0,searchWords:[s],textToHighlight:t.title})}),(0,I.jsx)("td",{className:"align-middle w-25",children:(0,I.jsx)(J(),{autoEscape:!0,searchWords:[s],textToHighlight:h.G.Describe.getTitle(t.character)})}),(0,I.jsx)("td",{className:"align-middle",children:t.character.Level}),(0,I.jsx)("td",{className:"align-middle",children:(0,I.jsx)("div",{className:"d-flex justify-content-center",children:(0,I.jsxs)(T.Z,{direction:"horizontal",gap:1,children:[(0,I.jsx)(K.Z,{trigger:["hover","focus"],overlay:(0,I.jsx)(L.Z,{children:(0,o.KF)("PROJ_GOTO_EDITOR")}),children:(0,I.jsx)(P.Z,{onClick:function(){u("/editor")},children:(0,I.jsx)(H.Z,{style:{verticalAlign:"-0.125em"}})})}),(0,I.jsx)(K.Z,{trigger:["hover","focus"],overlay:(0,I.jsx)(L.Z,{children:(0,o.KF)("PROJ_SAVE")}),children:(0,I.jsx)(P.Z,{variant:"warning",onClick:function(){(0,X.m)({title:(0,o.KF)("PROJ_SAVE"),label:(0,o.KF)("PROJ_SAVEPROJECT"),defaultValue:t.title,validate:function(e){var t=n.validateName(e);return"NAME_OK"===t||"NAME_EXISTING"===t||(0,o.KF)(t)}}).then((function(e){e&&("NAME_OK"===n.validateName(e)&&(t.title=e,E(e,t).then((function(){a()}))),"NAME_EXISTING"===n.validateName(e)&&(0,z.Q)({message:(0,I.jsx)(V.D,{children:(0,o.KF)("PROJ_CONFIRMREPLACE",{project:e})})}).then((function(n){n&&(t.title=e,E(e,t).then((function(){a()})))})))}))},children:(0,I.jsx)(B.Z,{style:{verticalAlign:"-0.125em"}})})}),(0,I.jsx)(K.Z,{trigger:["hover","focus"],overlay:(0,I.jsx)(L.Z,{children:(0,o.KF)("PROJ_CLOSE")}),children:(0,I.jsx)(P.Z,{variant:"danger",onClick:function(){(0,z.Q)({message:(0,I.jsx)(V.D,{children:(0,o.KF)("PROJ_CONFIRMCLOSE",{project:t.title})})}).then((function(e){e&&((0,i.Uw)(t),a())}))},children:(0,I.jsx)(W.Z,{style:{verticalAlign:"-0.125em"}})})})]})})})]})}function U(){var e=(0,i.mW)(),n=(0,i.vo)(),t=(0,s.h)(e,5),l=(0,c.P)().id,u=(0,O.useState)([]),d=(0,r.Z)(u,2),h=d[0],f=d[1];(0,O.useEffect)((function(){j().then((function(e){e&&f(e)}))}),[l]);var v=(0,O.useMemo)((function(){return new a.z0(h.map((function(e){return e.title})))}),[e,h]);return(0,O.useEffect)((function(){t.setPage(t.findItem(n))}),[]),(0,I.jsxs)(y.Z,{children:[(0,I.jsx)(y.Z.Header,{as:"h5",className:"m-0 bg-info",children:(0,o.KF)("PROJ_OPENPROJECTS")}),(0,I.jsx)(y.Z.Body,{children:(0,I.jsxs)(T.Z,{gap:2,children:[(0,I.jsx)(k,{}),e.length<=5?null:(0,I.jsx)("div",{className:"d-flex justify-content-center",children:(0,I.jsx)(t.Pagination,{})}),t.items.length?(0,I.jsxs)(R.Z,{striped:!0,bordered:!0,hover:!0,responsive:!0,children:[(0,I.jsx)("thead",{children:(0,I.jsxs)("tr",{children:[(0,I.jsx)("th",{children:(0,o.KF)("PROJ_TITLE")}),(0,I.jsx)("th",{children:(0,o.KF)("CHARACTER")}),(0,I.jsx)("th",{children:(0,o.KF)("STAT_LEVEL")}),(0,I.jsx)("th",{children:(0,o.KF)("ACTION_ACTIONS")})]})}),(0,I.jsx)("tbody",{children:t.items.map((function(e,n){return(0,I.jsx)($,{names:v,project:e},n)}))})]}):null]})})]})}var Q=t(83496),Y=t(55341),q=t(42911),ee=t(59461),ne=t(75936);function te(e){var n=e.names,t=e.project,r=e.onChange,a=e.search,s=null!==a&&void 0!==a?a:"",c=(0,D.s0)(),l=(0,Q.i)();return(0,I.jsxs)("tr",{children:[(0,I.jsx)("td",{className:"w-50 align-middle",children:(0,I.jsx)(J(),{autoEscape:!0,searchWords:[s],textToHighlight:t.title})}),(0,I.jsx)("td",{className:"align-middle w-25",children:(0,I.jsx)(J(),{autoEscape:!0,searchWords:[s],textToHighlight:h.G.Describe.getTitle(t.character)})}),(0,I.jsx)("td",{className:"align-middle",children:t.level}),(0,I.jsx)("td",{className:"align-middle",children:(0,I.jsx)("div",{className:"d-flex justify-content-center",children:(0,I.jsxs)(T.Z,{direction:"horizontal",gap:1,children:[(0,I.jsx)(K.Z,{trigger:["hover","focus"],overlay:(0,I.jsx)(L.Z,{children:(0,o.KF)("PROJ_OPEN")}),children:(0,I.jsx)(P.Z,{onClick:function(){(function(e){return Z.apply(this,arguments)})(t.title).then((function(e){e?((0,i.dn)(e.title,e.character),c("/editor")):(0,ne.a)({message:(0,o.KF)("PROJ_PROJECT_NOT_FOUND")})}))},children:(0,I.jsx)(H.Z,{style:{verticalAlign:"-0.125em"}})})}),(0,I.jsx)(K.Z,{trigger:["hover","focus"],overlay:(0,I.jsx)(L.Z,{children:(0,o.KF)("ACTION_RENAME")}),children:(0,I.jsx)(P.Z,{onClick:function(){(0,X.m)({title:(0,o.KF)("PROJ_RENAME"),label:(0,o.KF)("PROJ_RENAME_LABEL"),defaultValue:t.title,validate:function(e){var t=n.validateName(e);return"NAME_OK"===t||(0,o.KF)(t)}}).then((function(e){e&&"NAME_OK"===n.validateName(e)&&function(e,n){return A.apply(this,arguments)}(t.title,e).then((function(e){e?r():(0,ne.a)({message:(0,o.KF)("PROJ_RENAME_ERROR")})}))}))},children:(0,I.jsx)(q.Z,{style:{verticalAlign:"-0.125em"}})})}),(0,I.jsx)(K.Z,{trigger:["hover","focus"],overlay:(0,I.jsx)(L.Z,{children:(0,o.KF)("ACTION_EXPORT")}),children:(0,I.jsx)(P.Z,{onClick:function(){l.addProjects([t.title]),c("/storage/export")},children:(0,I.jsx)(Y.Z,{style:{verticalAlign:"-0.125em"}})})}),(0,I.jsx)(K.Z,{trigger:["hover","focus"],overlay:(0,I.jsx)(L.Z,{children:(0,o.KF)("ACTION_DELETE")}),children:(0,I.jsx)(P.Z,{variant:"danger",onClick:function(){(0,z.Q)({message:(0,I.jsx)(V.D,{children:(0,o.KF)("PROJ_CONFIRMDELETE",{project:t.title})})}).then((function(e){e&&function(e){return C.apply(this,arguments)}(t.title).then((function(e){e?r():(0,ne.a)({message:(0,o.KF)("PROJ_DELETE_ERROR")})}))}))},children:(0,I.jsx)(ee.Z,{style:{verticalAlign:"-0.125em"}})})})]})})})]})}function re(){var e=(0,O.useState)(""),n=(0,r.Z)(e,2),t=n[0],i=n[1],l=(0,O.useState)([]),u=(0,r.Z)(l,2),d=u[0],h=u[1],f=(0,s.h)(d,10),v=(0,c.P)(),x=v.update,m=v.id,p=(0,O.useMemo)((function(){return new a.z0(d.map((function(e){return e.title})))}),[d]);(0,O.useEffect)((function(){j({name:t.match(/^\s*$/i)?void 0:t}).then((function(e){e&&h(e)}))}),[t,m]);var g=(0,Q.i)(),Z=(0,D.s0)();return(0,I.jsxs)(y.Z,{children:[(0,I.jsx)(y.Z.Header,{as:"h5",className:"m-0 bg-info",children:(0,o.KF)("PROJ_SAVEDPROJECTS")}),(0,I.jsxs)(y.Z.Body,{children:[(0,I.jsxs)(T.Z,{direction:"horizontal",gap:1,children:[(0,I.jsx)(M.Z.Control,{type:"text",placeholder:(0,o.KF)("PROJ_SEARCH_PLACEHOLDER"),value:t,onChange:function(e){return i(e.target.value)}}),(0,I.jsx)(K.Z,{trigger:["hover","focus"],overlay:(0,I.jsx)(L.Z,{children:(0,o.KF)("ACTION_EXPORT_ALL")}),children:(0,I.jsx)(P.Z,{onClick:function(){g.addProjects(d.map((function(e){return e.title}))),Z("/storage/export")},children:(0,I.jsx)(Y.Z,{})})})]}),(0,I.jsx)("div",{className:"d-flex justify-content-center m-2",children:f.items.length?(0,I.jsx)(f.Pagination,{}):(0,o.KF)("RESULT_NO_MATCH")}),(0,I.jsx)("div",{className:"overflow-auto",children:f.items.length?(0,I.jsxs)(R.Z,{responsive:!0,striped:!0,bordered:!0,hover:!0,children:[(0,I.jsx)("thead",{children:(0,I.jsxs)("tr",{children:[(0,I.jsx)("th",{children:(0,o.KF)("PROJ_TITLE")}),(0,I.jsx)("th",{children:(0,o.KF)("CHARACTER")}),(0,I.jsx)("th",{children:(0,o.KF)("STAT_LEVEL")}),(0,I.jsx)("th",{children:(0,o.KF)("ACTION_ACTIONS")})]})}),(0,I.jsx)("tbody",{children:f.items.map((function(e,n){return(0,I.jsx)(te,{names:p,project:e,search:t,onChange:x},n)}))})]}):null})]})]})}var ie=t(22102),ae="dashboard",se=2;function ce(){return(0,I.jsx)(ie.Z,{children:(0,I.jsxs)(T.Z,{gap:1,children:[(0,I.jsx)(U,{}),(0,I.jsx)(re,{})]})})}},83496:function(e,n,t){t.d(n,{i:function(){return s}});var r=t(1413),i=t(10340),a=t(11020);function s(){var e=(0,i.T)(),n=(0,i.C)((function(e){return e.exports}));return(0,r.Z)((0,r.Z)({},n),{},{addProjects:function(n){e(a.W.actions.addProjects(n))},removeProjects:function(n){e(a.W.actions.removeProjects(n))},addRotations:function(n){e(a.W.actions.addRotations(n))},removeRotations:function(n){e(a.W.actions.removeRotations(n))},setArtifacts:function(n){e(a.W.actions.setArtifacts(n))}})}}}]);