"use strict";(self.webpackChunkgenshin_gui=self.webpackChunkgenshin_gui||[]).push([[8053],{8053:function(e,n,t){t.r(n),t.d(n,{default:function(){return S},position:function(){return F},title:function(){return I}});var r=t(74165),s=t(15861),a=t(67526),c=t(93324),i=t(26671),o=t(83496),u=t(79188),p=t(10533),f=t(46152),l=t(29447);function h(e){return d.apply(this,arguments)}function d(){return d=(0,s.Z)((0,r.Z)().mark((function e(n){var t;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=performance.now(),e.abrupt("return",new Promise(function(){var e=(0,s.Z)((0,r.Z)().mark((function e(s,a){var c;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=(0,l.HB)().addMessageListener((function(e){"storage-export"===e.type&&e.id===t&&(e.error?a(e.error):((0,l.HB)().removeMessageListener(c),s(e.result)))})),(0,l.HB)().postMessage({type:"storage-export",id:t,data:n});case 2:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}()));case 2:case"end":return e.stop()}}),e)}))),d.apply(this,arguments)}var x=t(47313),Z=t(65832),T=t(48648),v=t(93298),m=t(2532),j=t(46417),g=p.STORAGE_EXPORT_ARTIFACTS;function E(){var e=(0,(0,i.Z)().getFilter)(),n=(0,x.useState)(0),t=(0,c.Z)(n,2),p=t[0],l=t[1],d=(0,x.useState)(0),E=(0,c.Z)(d,2),y=E[0],A=E[1],C=(0,o.i)(),O=C.artifacts,_=C.setArtifacts;function k(){return(k=(0,s.Z)((0,r.Z)().mark((function n(){var t;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,h({artifacts:{mode:O,query:e}});case 2:t=n.sent,(0,a.S)("artifacts.json",t);case 4:case"end":return n.stop()}}),n)})))).apply(this,arguments)}return(0,x.useEffect)((function(){function n(){return n=(0,s.Z)((0,r.Z)().mark((function n(){var t,s;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,f.yN)(e);case 2:return t=n.sent.length,n.next=5,(0,f.yN)();case 5:s=n.sent.length,l(t),A(s);case 8:case"end":return n.stop()}}),n)}))),n.apply(this,arguments)}!function(){n.apply(this,arguments)}()}),[e]),(0,j.jsxs)(Z.Z,{children:[(0,j.jsx)(Z.Z.Header,{as:"h5",className:"bg-info",children:(0,u.KF)("ACTION_EXPORT_ARTIFACTS")}),(0,j.jsx)(Z.Z.Body,{children:(0,j.jsxs)(T.Z,{gap:1,children:[(0,j.jsx)(v.Z,{onClick:function(){return k.apply(this,arguments)},children:(0,u.KF)("ACTION_EXPORT")}),(0,j.jsx)(m.Z.Check,{type:"checkbox",checked:O===g.FILTERED,onChange:function(e){return e.target.checked&&_(g.FILTERED)},id:"ACTION_EXPORT_ARTIFACTS_FILTERED",label:(0,u.KF)("ACTION_EXPORT_ARTIFACTS_FILTERED",{n:p})}),(0,j.jsx)(m.Z.Check,{type:"checkbox",checked:O===g.ALL,onChange:function(e){return e.target.checked&&_(g.ALL)},id:"ACTION_EXPORT_ARTIFACTS_ALL",label:(0,u.KF)("ACTION_EXPORT_ARTIFACTS_ALL",{n:y})}),(0,j.jsx)(m.Z.Check,{type:"checkbox",checked:O===g.NONE,onChange:function(e){return e.target.checked&&_(g.NONE)},id:"ACTION_EXPORT_ARTIFACTS_NONE",label:(0,u.KF)("ACTION_EXPORT_ARTIFACTS_NONE")})]})})]})}var y=t(13736),A=t(31136),C=t(95668),O=t(2304),_=t(12014);function k(e){var n=e.items,t=e.onExport,r=e.map,s=e.onRemove,a=e.title,c=e.placeholder,i=(0,y.h)(n,10),o=i.items,p=i.Pagination,f=(0,j.jsx)("div",{className:"p-1 text-center",children:c});var l=(0,j.jsxs)(T.Z,{gap:1,children:[(0,j.jsxs)(T.Z,{direction:"horizontal",gap:1,children:[(0,j.jsx)(p,{}),(0,j.jsxs)(v.Z,{className:"w-100",onClick:function(){t(n)},children:[(0,u.KF)("ACTION_EXPORT")," (",n.length,")"]}),(0,j.jsx)(A.Z,{trigger:["hover","focus"],overlay:(0,j.jsx)(C.Z,{children:(0,u.KF)("ACTION_SELECTED_UNSELECT")}),children:(0,j.jsx)(v.Z,{variant:"danger",onClick:function(){n.forEach((function(e){return s(e)}))},children:(0,j.jsx)(_.Z,{style:{verticalAlign:"-0.125em"}})})})]}),(0,j.jsx)(O.Z,{children:o.map((function(e,t){return(0,j.jsx)(O.Z.Item,{children:(0,j.jsxs)("div",{className:"d-flex align-items-center",children:[(0,j.jsx)("div",{className:"me-auto",children:r(e,n.indexOf(e))}),(0,j.jsx)(A.Z,{trigger:["hover","focus"],overlay:(0,j.jsx)(C.Z,{children:(0,u.KF)("ACTION_UNSELECT")}),children:(0,j.jsx)(v.Z,{size:"sm",variant:"danger",onClick:function(){return s(e)},children:(0,j.jsx)(_.Z,{style:{verticalAlign:"-0.125em"}})})})]})},t)}))})]});return(0,j.jsxs)(Z.Z,{children:[(0,j.jsx)(Z.Z.Header,{as:"h5",className:"bg-info",children:a}),(0,j.jsx)(Z.Z.Body,{children:n.length?l:f})]})}function N(){var e=(0,o.i)(),n=e.projects,t=e.removeProjects;function c(){return c=(0,s.Z)((0,r.Z)().mark((function e(n){var t;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h({projects:n});case 2:t=e.sent,(0,a.S)("projects.json",t);case 4:case"end":return e.stop()}}),e)}))),c.apply(this,arguments)}return(0,j.jsx)(k,{items:n,onRemove:function(e){return t([e])},onExport:function(e){return c.apply(this,arguments)},map:function(e){return e},title:(0,u.KF)("ACTION_EXPORT_PROJECTS"),placeholder:(0,u.KF)("PROJECTS_EXPORT_EMPTY")})}var R=t(47017);function w(){var e=(0,o.i)(),n=e.rotations,t=e.removeRotations,i=(0,x.useState)([]),p=(0,c.Z)(i,2),f=p[0],l=p[1];function d(){return d=(0,s.Z)((0,r.Z)().mark((function e(n){var t;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h({rotations:n});case 2:t=e.sent,(0,a.S)("rotations.json",t);case 4:case"end":return e.stop()}}),e)}))),d.apply(this,arguments)}return(0,x.useEffect)((function(){function e(){return e=(0,s.Z)((0,r.Z)().mark((function e(){var t,s,a,c;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=[],s=0;case 2:if(!(s<n.length)){e.next=11;break}return a=n[s],e.next=6,(0,R.q$)({id:a});case 6:c=e.sent,t.push(c[0].name);case 8:s++,e.next=2;break;case 11:l(t);case 12:case"end":return e.stop()}}),e)}))),e.apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[n]),(0,j.jsx)(k,{items:n,onRemove:function(e){return t([e])},onExport:function(e){return d.apply(this,arguments)},map:function(e,n){return f[n]},title:(0,u.KF)("ACTION_EXPORT_ROTATIONS"),placeholder:(0,u.KF)("ROTATIONS_EXPORT_EMPTY")})}var I="export",F=1;function S(){var e=(0,o.i)(),n=(0,i.Z)().getFilter;function t(){return(t=(0,s.Z)((0,r.Z)().mark((function t(){var s,c,i,o;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=e.projects,c=e.rotations,i=e.artifacts,t.next=3,h({projects:s,rotations:c,artifacts:{mode:i,query:n()}});case 3:o=t.sent,(0,a.S)("storage.json",o);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function c(){return(c=(0,s.Z)((0,r.Z)().mark((function e(){var n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h({all:!0});case 2:n=e.sent,(0,a.S)("storage.json",n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,j.jsxs)(T.Z,{gap:2,children:[(0,j.jsx)("div",{className:"d-flex justify-content-center",children:(0,j.jsxs)(T.Z,{direction:"horizontal",gap:1,children:[(0,j.jsx)(v.Z,{variant:"warning",className:"text-black",onClick:function(){return c.apply(this,arguments)},children:(0,u.KF)("ACTION_EXPORT_ALL")}),(0,j.jsx)(v.Z,{variant:"warning",className:"text-black",onClick:function(){return t.apply(this,arguments)},children:(0,u.KF)("ACTION_EXPORT_ALL_SELECTED")})]})}),(0,j.jsx)(N,{}),(0,j.jsx)(w,{}),(0,j.jsx)(E,{})]})}},46152:function(e,n,t){t.d(n,{hW:function(){return h},rR:function(){return f},yN:function(){return u}});var r=t(1413),s=t(74165),a=t(15861),c=t(29447);function i(e){return o.apply(this,arguments)}function o(){return o=(0,a.Z)((0,s.Z)().mark((function e(n){var t;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=performance.now(),e.abrupt("return",new Promise(function(){var e=(0,a.Z)((0,s.Z)().mark((function e(r,a){var i;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=(0,c.HB)().addMessageListener((function(e){"storage-artifacts"===e.type&&e.id===t&&(e.error?a(e.error):((0,c.HB)().removeMessageListener(i),r(e.result)))})),(0,c.HB)().postMessage({type:"storage-artifacts",id:t,data:n});case 2:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}()));case 2:case"end":return e.stop()}}),e)}))),o.apply(this,arguments)}function u(e){return p.apply(this,arguments)}function p(){return(p=(0,a.Z)((0,s.Z)().mark((function e(n){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",i({get:(0,r.Z)({},n)}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(e){return l.apply(this,arguments)}function l(){return(l=(0,a.Z)((0,s.Z)().mark((function e(n){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",i({set:n}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(e){return d.apply(this,arguments)}function d(){return(d=(0,a.Z)((0,s.Z)().mark((function e(n){var t;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.id){e.next=3;break}return e.abrupt("return",!1);case 3:return e.abrupt("return",i({delete:{id:t}}));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}}}]);