"use strict";(self.webpackChunkgenshin_gui=self.webpackChunkgenshin_gui||[]).push([[5016],{85016:function(t,e,r){r.r(e),r.d(e,{default:function(){return M},position:function(){return k},title:function(){return I}});var n=r(74165),a=r(1413),i=r(15861),o=r(96103),s=r(64236),c=r(84825),u=r(1836),f=r(92882),p=r(75285),h=r(46323),l=r(79188),d=r(45043),g=r(29447);function m(t,e){var r=performance.now();return t.character instanceof d.G.Character&&(t.character=d.G.CharacterLoader.exportCharacter(t.character)),t.rotation instanceof d.G.Rotation&&(t.rotation=d.G.RotationLoader.exportRotation(t.rotation)),(0,g.HB)().postMessage({id:r,type:"optimizer-substats",data:t}),new Promise((function(t){var n=(0,g.HB)().addMessageListener((function(a){a.id===r&&(!1===a.complete?e(a.result):(t(a.result),(0,g.HB)().removeMessageListener(n)))}))}))}var v=r(47017),x=r(48648),Z=r(93298),w=r(97890),C=r(46417),I="OPTIMIZER_MAINSTAT",k=4;function M(){var t=(0,u.r)(),e=(0,h.a)(),r=(0,w.s0)(),d=(0,p.g)(),g=(0,f.L)();function I(){return(I=(0,i.Z)((0,n.Z)().mark((function i(){var s,c,u,f,p,h,l;return(0,n.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s=(0,o.vo)(),c=s.character,u=s.rotationId,t.show(),n.next=4,(0,v.q$)({id:u});case 4:return f=n.sent[0],n.next=7,m((0,a.Z)((0,a.Z)({character:c,rotation:f},d.getConfig()),{},{filters:g.getFilters()}),(function(e){t.setCurrent(e[0]),t.setTotal(e[1])}));case 7:p=n.sent,h=p.map((function(t){return t[0]})),l=p.map((function(t){return t[1]})),e.setRows(l),e.setStates(h),t.hide(),r("/editor/optimizer/results");case 14:case"end":return n.stop()}}),i)})))).apply(this,arguments)}return(0,C.jsxs)(x.Z,{gap:1,children:[(0,C.jsx)(Z.Z,{variant:"warning",className:"text-black",onClick:function(){return I.apply(this,arguments)},children:(0,l.KF)("OPTIMIZER_OPTIMIZE")}),(0,C.jsx)(c.N,{}),(0,C.jsx)(s.X,{})]})}}}]);