"use strict";(self.webpackChunkgenshin_gui=self.webpackChunkgenshin_gui||[]).push([[9523],{30448:function(e,n,t){t.d(n,{c:function(){return o},j:function(){return u}});var r=t(74165),s=t(15861),a=t(93433),i=t(15671),c=t(43144),u=function(){function e(n,t){(0,i.Z)(this,e),this.delay=n,this.callback=t,this.counter=0,this.completed=!0,this.lastParam=void 0,this.onReturn=function(){}}return(0,c.Z)(e,[{key:"internalCall",value:function(e){for(var n=this,t=arguments.length,r=new Array(t>1?t-1:0),s=1;s<t;s++)r[s-1]=arguments[s];this.completed&&(this.completed=!1,setTimeout((function(){n.onReturn(n.callback.apply(n,r)),n.completed=!0,n.counter!==e&&n.lastParam&&n.internalCall.apply(n,[n.counter].concat((0,a.Z)(n.lastParam)))}),this.delay))}},{key:"call",value:function(){this.counter++;for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];this.lastParam=n,this.internalCall.apply(this,[this.counter].concat(n))}}]),e}();function o(e){return l.apply(this,arguments)}function l(){return(l=(0,s.Z)((0,r.Z)().mark((function e(n){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){return setTimeout(e,n)})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},79523:function(e,n,t){t.r(n),t.d(n,{default:function(){return j}});var r=t(74165),s=t(15861),a=t(93324),i=t(93404),c=t(30448),u=t(17829),o=t(45043),l=t(62151),h=t(79188),f=t(47313),p=t(48648),d=t(36687),m=t(93298),R=t(97890),g=t(46417),v="app://optimizer/resin/editor",y=v+"/resources.json",Z=o.G.Resources.ResourcesSchema;function j(){var e=(0,R.s0)(),n=(0,i.Ik)();(0,f.useEffect)((function(){return function(e){e&&e.languages.json.jsonDefaults.setDiagnosticsOptions({validate:!0,schemas:[{uri:"app://optimizer/resin/editor/schema.json",fileMatch:[y],schema:Z}]})}(n)}),[n]);var t=(0,f.useState)(!0),v=(0,a.Z)(t,2),j=v[0],k=v[1],x=(0,l.$)(),C=JSON.stringify(x.getResources(),null,2),E=(0,f.useMemo)((function(){return new c.j(250,(function(e){try{var n=JSON.parse(e);x.setResources(n)}catch(t){}}))}),[x]);function O(){return(O=(0,s.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,u.Q)({message:(0,h.KF)("ACTION_RESTORE_DEFAULT_CONFIRM")});case 2:if(e.sent){e.next=5;break}return e.abrupt("return");case 5:return x.setResources(o.G.Resources.ResourcesData),k(!1),e.next=9,(0,c.c)(100);case 9:k(!0);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,g.jsxs)(p.Z,{gap:1,children:[(0,g.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,g.jsx)("h3",{className:"text-center me-1",children:(0,h.KF)("OPTIMIZER_RESIN_RESOURCES_CONFIGURE")}),(0,g.jsxs)(d.Z,{children:[(0,g.jsx)(m.Z,{onClick:function(){return O.apply(this,arguments)},children:(0,h.KF)("ACTION_RESTORE_DEFAULT")}),(0,g.jsx)(m.Z,{variant:"warning",onClick:function(){return e("/editor/optimizer/resin")},children:(0,h.KF)("ACTION_DONE")})]})]}),j?(0,g.jsx)(i.ZP,{height:"90vh",theme:"vs-dark",path:y,language:"json",defaultValue:C,onChange:function(e){E.call(e||"")}}):null]})}}}]);