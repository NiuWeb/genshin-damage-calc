"use strict";(self.webpackChunkgenshin_gui=self.webpackChunkgenshin_gui||[]).push([[4919],{64919:function(e,n,r){r.d(n,{K:function(){return v}});var t=r(1413),u=r(93324),a=r(45987),i=r(47313),l=r(98698),c=r(2532),o=r(46417),s=["places","percent","value","onChange","children"],v=function(e){var n=e.places,r=void 0===n?1:n,v=e.percent,h=e.value,g=void 0===h?0:h,p=e.onChange,d=e.children,Z=(0,a.Z)(e,s);function C(){var e=g;return v&&(e*=100),function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=e.toFixed(n).replace(/\.0+$/,"").split(".");if(1===r.length)return r[0];var t=r[1].replace(/0+$/,"");return r[0]+(t.length>0?"."+t:"")}(e,r)}var b=(0,i.useState)(C()),x=(0,u.Z)(b,2),k=x[0],w=x[1],M=(0,i.useState)(!1),$=(0,u.Z)(M,2),j=$[0],F=$[1];return(0,i.useEffect)((function(){var e=f(k,r);e=v?e/100:e,Math.abs(e-g)<1e-5||w(C())}),[g,v,r]),(0,o.jsxs)(l.Z,{size:Z.size,children:[null!==d&&void 0!==d?d:null,(0,o.jsx)(c.Z.Control,(0,t.Z)((0,t.Z)({},Z),{},{value:k,onChange:function(e){var n=e.target.value;w(function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=e.split(".");if(1===r.length)return e;var t=r[0],u=r[1];return t&&0!==u.length?"".concat(t,".").concat(u.substring(0,n)):e}(n));var t=f(n,r);Number.isFinite(t)?(!function(e){var n=v?e/100:e;null===p||void 0===p||p(n,(function(){return w(C())}))}(t),j&&F(!1)):j||F(!0)}})),v?(0,o.jsx)(l.Z.Text,{children:"%"}):null]})};function f(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(""===e)return 0;if("0."===e)return 0;if("0"===e)return 0;if(".0"===e)return 0;if("."===e)return 0;if(e=e.replace(/,/g,".").replace(/\.+/g,".").replace(/^\./,"0.").replace(/\.$/,""),!/^[+-]?[0-9]*\.?[0-9]*$/.test(e))return NaN;var r=parseFloat(e);return r=Math.floor(r*Math.pow(10,n))/Math.pow(10,n)}}}]);