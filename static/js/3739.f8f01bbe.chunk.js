"use strict";(self.webpackChunkgenshin_gui=self.webpackChunkgenshin_gui||[]).push([[3739],{93739:function(e,n,r){r.d(n,{x:function(){return g}});var t=r(74165),a=r(15861),i=r(93324),c=r(95878),s=r(75936),o=r(79188),u=r(47017),d=r(47313),l=r(36687),f=r(93298),h=r(44030),m=r(2304),x=r(48648),b=r(89582),p=r(46417);function k(e){return(0,p.jsx)(m.Z,{children:e.rotations.map((function(n){var r=n.id===e.selectedId;return(0,p.jsx)(m.Z.Item,{action:!0,active:r,onClick:function(){return e.onChange(n)},children:(0,p.jsxs)(x.Z,{direction:"horizontal",children:[(0,p.jsx)("div",{className:"me-auto",children:n.name}),n.custom?(0,p.jsx)(b.Z,{bg:"warning",className:"text-black",children:(0,o.KF)("CUSTOM")}):null]})},n.name)}))})}function g(e){var n=e.project,r=e.onChange,m=e.readonly,x=(0,d.useState)(void 0),b=(0,i.Z)(x,2),g=b[0],Z=b[1],j=(0,d.useState)(),v=(0,i.Z)(j,2),N=v[0],I=v[1];function w(){return(w=(0,a.Z)((0,t.Z)().mark((function e(){var a,i;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.rotationId,g&&!m){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,(0,s.a)({closeButton:!1,title:(0,o.KF)("ROTATION_TARGET"),message:(0,p.jsx)(c.L,{children:function(e){return(0,p.jsx)(k,{rotations:g,selectedId:a,onChange:function(n){a=n.id,e()}})}})});case 5:if(i=g.find((function(e){return e.id===a}))){e.next=8;break}return e.abrupt("return");case 8:if("string"!==typeof i.characterName||i.characterName!==n.character.name){e.next=13;break}n.rotationId=a,I(i.name),e.next=19;break;case 13:if(!Array.isArray(i.characterName)||!i.characterName.includes(n.character.name)){e.next=18;break}n.rotationId=a,I(i.name),e.next=19;break;case 18:return e.abrupt("return");case 19:r();case 20:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,d.useEffect)((function(){(0,u.q$)({character:n.character.name}).then((function(e){Z(e);var r=e.find((function(e){return e.id===n.rotationId}));if(r)I(r.name);else{if(!e.length)return;var t=e[0];n.rotationId=t.id,I(t.name)}}))}),[n]),(0,p.jsxs)(l.Z,{className:"w-100 ",size:"lg",children:[(0,p.jsx)(f.Z,{variant:"secondary",className:"text-nowrap w-auto border-info",disabled:!0,children:(0,o.KF)("ROTATION_TARGET")}),(0,p.jsxs)(f.Z,{variant:"secondary",disabled:!g||m,onClick:function(){return w.apply(this,arguments)},className:"w-100 border-info",children:[g?null:(0,p.jsx)(h.Z,{animation:"border"}),N]})]})}}}]);