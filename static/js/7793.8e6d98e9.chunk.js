"use strict";(self.webpackChunkgenshin_gui=self.webpackChunkgenshin_gui||[]).push([[7793],{17793:function(e,n,t){t.r(n),t.d(n,{default:function(){return z}});var r=t(93324),a=t(96103),s=t(45043),i=t(79188),c=t(42072),l=t(31136),h=t(95668),u=t(2304),o=t(97890),d=t(46417);function m(){var e=(0,a.mW)(),n=(0,a.vo)(),t=(0,c.P)().update,r=(0,o.s0)();return(0,d.jsxs)(d.Fragment,{children:[e.slice(0,5).map((function(e,r){return(0,d.jsx)(l.Z,{placement:"right",overlay:(0,d.jsxs)(h.Z,{children:[e.title," ",(0,d.jsxs)("code",{children:["(",s.G.Describe.getTitle(e.character.name),")"]})]}),children:(0,d.jsx)(u.Z.Item,{action:!0,active:e===n,onClick:function(){return function(e){(0,a.Ce)(e),t()}(e)},children:(0,d.jsx)("div",{style:{maxWidth:160},className:"text-truncate",children:e.title})})},r)})),(0,d.jsx)(l.Z,{placement:"right",overlay:(0,d.jsx)(h.Z,{children:(0,i.KF)("ACTION_SHOW_MORE")}),children:(0,d.jsx)(u.Z.Item,{action:!0,onClick:function(){return r("/projects")},children:"..."})})]})}var x=t(93307),j=t(22102),f=t(48648),p=t(93298),v=t(69420);function Z(){return(0,d.jsx)("div",{className:"p-4 bg-primary",children:(0,d.jsxs)(j.Z,{className:"d-flex justify-content-between align-items-center",children:[(0,d.jsxs)(f.Z,{direction:"horizontal",gap:1,children:[(0,d.jsx)("div",{children:(0,i.KF)("CREDITS")}),(0,d.jsx)(p.Z,{target:"_blank",href:"https://github.com/NiuWeb/genshin-damage-calc",children:(0,d.jsx)(v.Z,{style:{verticalAlign:"-0.125em"}})})]}),(0,d.jsx)("div",{children:(0,d.jsx)(p.Z,{variant:"danger",href:"https://github.com/NiuWeb/genshin-damage-calc/releases",target:"_blank",children:(0,d.jsxs)("h6",{className:"m-0",children:["v","3.3.0"]})})})]})})}var g=t(74165),b=t(15861),N=t(17829),k=t(1836),w=t(38592),C=t(29447),y=t(77786),I=t(33319);function _(){return E.apply(this,arguments)}function E(){return(E=(0,b.Z)((0,g.Z)().mark((function e(){var n;return(0,g.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new y.Z,(0,C.As)(n),e.abrupt("return",Promise.all([(0,C.a_)(),(0,I.X)(),(0,C.HB)().setThreads(w.d.getState().config.workers)]));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var O=t(47313),T=t(98410),F=t(71587),A=t(89582),K=t(24419);function P(){var e=(0,k.r)(),n=(0,O.useState)(0),t=(0,r.Z)(n,2),a=t[0],s=t[1];function c(){return(c=(0,b.Z)((0,g.Z)().mark((function n(){return(0,g.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,N.Q)({message:(0,i.KF)("ACTION_CANCEL")});case 2:if(n.sent&&e.visible){n.next=5;break}return n.abrupt("return");case 5:_(),e.hide(),e.setCurrent(0),e.setTotal(0);case 9:case"end":return n.stop()}}),n)})))).apply(this,arguments)}(0,O.useEffect)((function(){s(0);var e=performance.now(),n=setInterval((function(){s(performance.now()-e)}),1e3);return function(){clearInterval(n),s(0)}}),[e.visible]);var l=e.label.match(/^\s*$/)?(0,i.KF)("ACTION_LOADING"):e.label;return(0,d.jsxs)(T.Z,{onHide:function(){return c.apply(this,arguments)},centered:!0,size:"lg",show:e.visible,children:[(0,d.jsx)(T.Z.Header,{closeButton:!0,children:l}),(0,d.jsxs)(T.Z.Body,{children:[(0,d.jsx)(F.Z,{animated:!0,variant:"warning",className:"text-black",now:e.current,max:e.total,label:"".concat(e.current,"/").concat(e.total)}),(0,d.jsxs)("div",{className:"text-center",children:[(0,i.KF)("OPTIMIZER_ELAPSED"),(0,d.jsx)(A.Z,{bg:"primary",className:"ms-1",children:(0,K.Z)(a)})]})]})]})}var S=t(14518),W=t(65008),H=t(63849),R=t(31616);function z(e){var n=e.children,t=(0,o.TH)(),a=(0,O.useState)([]),s=(0,r.Z)(a,2),c=s[0],l=s[1],h=t.pathname.startsWith("/editor")?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(u.Z.Item,{variant:"dark",children:(0,d.jsx)("strong",{children:(0,i.KF)("PROJ_OPENPROJECTS")})}),(0,d.jsx)(m,{})]}):null;(0,O.useEffect)((function(){var e=t.pathname.split("/")[1],n=(0,W.Fj)("/".concat(e));l(n.map((function(e){return{path:e,title:(0,W.Wz)(e)||e}})))}),[t]);var f=!!t.pathname.match(/^\/editor\/rotations\/edit/i)||!!t.pathname.match(/^\/editor\/optimizer\/results/i),p=!c.length;return(0,d.jsxs)("div",{className:"d-flex flex-column min-vh-100",children:[(0,d.jsx)(x.x,{}),f?n:(0,d.jsx)(j.Z,{children:p?(0,d.jsx)("main",{className:"mt-2 mb-2",children:n}):(0,d.jsxs)(H.Z,{children:[(0,d.jsx)(R.Z,{lg:2,md:0,children:(0,d.jsx)("div",{className:"mt-2",children:(0,d.jsx)(S.K,{items:c,children:h})})}),(0,d.jsx)(R.Z,{children:(0,d.jsx)("main",{className:"mt-2 mb-2",children:n})})]})}),(0,d.jsx)("footer",{className:"mt-auto",children:(0,d.jsx)(Z,{})}),(0,d.jsx)(P,{})]})}}}]);